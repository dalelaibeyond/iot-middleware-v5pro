# Environment Configuration Template
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit .env to version control!

# ============================================
# MQTT Configuration
# ============================================
# MQTT broker URL (e.g., mqtt://localhost:1883 or mqtt://broker.example.com:1883)
MQTT_BROKER_URL=mqtt://localhost:1883

# MQTT username (leave empty if no authentication required)
MQTT_USERNAME=

# MQTT password (leave empty if no authentication required)
MQTT_PASSWORD=

# MQTT client ID (unique identifier for this client)
MQTT_CLIENT_ID=iot-middleware-v5

# MQTT topics to subscribe to (comma-separated list)
# Examples:
#   - V5008Upload/+/# (for V5008 devices)
#   - V6800Upload/+/# (for V6800 devices)
#   - devices/+/data (generic device data)
MQTT_TOPICS=V5008Upload/+/#,V6800Upload/+/#

# MQTT connection options
MQTT_KEEPALIVE=60
MQTT_RECONNECT_PERIOD=1000
MQTT_CONNECT_TIMEOUT=30000
MQTT_CLEAN=true

# ============================================
# Database Configuration
# ============================================
# Database host (localhost or IP address)
DB_HOST=localhost

# Database port (default: 3306 for MySQL)
DB_PORT=3306

# Database name
DB_NAME=iot_middleware

# Database username
DB_USER=root

# Database password (REQUIRED - set this in production!)
DB_PASSWORD=

# Database connection pool settings
DB_CONNECTION_LIMIT=10
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000
DB_RECONNECT=true
DB_CHARSET=utf8mb4

# ============================================
# API Server Configuration
# ============================================
# API server port (default: 3000)
API_PORT=3000

# API server host (0.0.0.0 for all interfaces, or specific IP)
API_HOST=0.0.0.0

# ============================================
# WebSocket Server Configuration
# ============================================
# WebSocket server port (default: 3001)
WS_PORT=3001

# ============================================
# Application Configuration
# ============================================
# Node environment (development, production, test)
NODE_ENV=development

# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# ============================================
# Security Configuration
# ============================================
# JWT secret for authentication (generate a strong random string in production)
JWT_SECRET=your-secret-key-here-change-in-production

# API key for external access (if needed)
API_KEY=your-api-key-here-change-in-production

# ============================================
# Notes
# ============================================
# 1. Always use strong, unique passwords in production
# 2. Never commit .env file to version control
# 3. Use environment-specific .env files (e.g., .env.production)
# 4. Rotate secrets regularly in production
# 5. Use secrets management services in cloud deployments (AWS Secrets Manager, Azure Key Vault, etc.)
